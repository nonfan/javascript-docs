# ECAMScript 11

ES2020（或称为 ECMAScript 2020）是 JavaScript 的一个重要版本，它引入了一些新的语言特性和改进。以下是 ES2020 中一些主要的特性：

## 可选链操作符

允许在访问深层对象属性或方法时，如果中间某个属性或方法不存在或为 `null` 或 `undefined`，则不会抛出错误，而是返回 `undefined`。

```js
const user = {};

const city = user?.address?.city; // undefined
```

## 空值合并运算符

用于检查某个值是否为 `null` 或 `undefined`，如果是，则返回默认值，否则返回该值本身。

```js
let flag; // 分配了 undefined
console.log(flag ?? '默认值');

let falg2 = true;
console.log(falg2 ?? '默认值'); // 返回该值本身: true
```

## BigInt 数据类型

引入了一种新的原始数据类型 `BigInt`，用于表示任意精度的整数值，可以用 `n` 后缀来标识。

```js
const bigNumber = 123456789012345678901234567890n;
```

## 动态导入

引入了 `import()` 函数，允许在运行时动态地导入模块，而不必在静态代码中预先声明依赖关系。

```js
const module = await import('./path/to/module.js');
```

## 全局对象 globalThis

提供了一个标准的方式来获取全局对象，不论在不同的环境（浏览器、Node.js 等）中运行，都可以使用 globalThis。

```js title="浏览器环境"
console.log(globalThis); // Windows
```

```js title="Node.js 环境"
console.log(globalThis); // Windows

/*
<ref *1> Object [global] {
  global: [Circular *1],
  queueMicrotask: [Function: queueMicrotask],
  clearImmediate: [Function: clearImmediate],
  setImmediate: [Function: setImmediate] {
    [Symbol(nodejs.util.promisify.custom)]: [Getter]
  },
  structuredClone: [Getter/Setter],
  clearInterval: [Function: clearInterval],
  clearTimeout: [Function: clearTimeout],
  setInterval: [Function: setInterval],
  setTimeout: [Function: setTimeout] {
    [Symbol(nodejs.util.promisify.custom)]: [Getter]
  },
  atob: [Getter/Setter],
  btoa: [Getter/Setter],
  performance: [Getter/Setter],
  fetch: [AsyncFunction: fetch]
}
 */
```
