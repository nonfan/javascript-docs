"use strict";(self.webpackChunkjavascript_docs=self.webpackChunkjavascript_docs||[]).push([[7970],{10941:(i,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"javascript-api/page-visibility-api","title":"Page Visibility API","description":"Web \u5f00\u53d1\u4e2d\u4e00\u4e2a\u5e38\u89c1\u7684\u95ee\u9898\u662f\u5f00\u53d1\u8005\u4e0d\u77e5\u9053\u7528\u6237\u4ec0\u4e48\u65f6\u5019\u771f\u6b63\u5728\u4f7f\u7528\u9875\u9762\u3002\u5982\u679c\u9875\u9762\u88ab\u6700\u5c0f\u5316\u6216\u9690\u85cf\u5728\u5176\u4ed6\u6807\u7b7e\u9875\u540e\u9762\uff0c\u90a3\u4e48\u8f6e\u8be2\u670d\u52a1\u5668\u6216\u66f4\u65b0\u52a8\u753b\u7b49\u529f\u80fd\u53ef\u80fd\u5c31\u6ca1\u6709\u5fc5\u8981\u4e86\u3002Page Visibility API \u65e8\u5728\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u9875\u9762\u5bf9\u7528\u6237\u662f\u5426\u53ef\u89c1\u7684\u4fe1\u606f\u3002","source":"@site/docs/javascript-api/page-visibility-api.mdx","sourceDirName":"javascript-api","slug":"/javascript-api/page-visibility-api","permalink":"/javascript-docs/javascript-api/page-visibility-api","draft":false,"unlisted":false,"editUrl":"https://github.com/nonfan/javascript-docs/tree/main/docs/javascript-api/page-visibility-api.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Notifications API","permalink":"/javascript-docs/javascript-api/notifications-api"},"next":{"title":"Streams API","permalink":"/javascript-docs/javascript-api/streams-api"}}');var t=n(74848),c=n(28453);const a={},r="Page Visibility API",l={},o=[];function d(i){const e={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...i.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"page-visibility-api",children:"Page Visibility API"})}),"\n",(0,t.jsx)(e.p,{children:"Web \u5f00\u53d1\u4e2d\u4e00\u4e2a\u5e38\u89c1\u7684\u95ee\u9898\u662f\u5f00\u53d1\u8005\u4e0d\u77e5\u9053\u7528\u6237\u4ec0\u4e48\u65f6\u5019\u771f\u6b63\u5728\u4f7f\u7528\u9875\u9762\u3002\u5982\u679c\u9875\u9762\u88ab\u6700\u5c0f\u5316\u6216\u9690\u85cf\u5728\u5176\u4ed6\u6807\u7b7e\u9875\u540e\u9762\uff0c\u90a3\u4e48\u8f6e\u8be2\u670d\u52a1\u5668\u6216\u66f4\u65b0\u52a8\u753b\u7b49\u529f\u80fd\u53ef\u80fd\u5c31\u6ca1\u6709\u5fc5\u8981\u4e86\u3002Page Visibility API \u65e8\u5728\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u9875\u9762\u5bf9\u7528\u6237\u662f\u5426\u53ef\u89c1\u7684\u4fe1\u606f\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u4e2a API \u672c\u8eab\u975e\u5e38\u7b80\u5355\uff0c\u7531 3 \u90e8\u5206\u6784\u6210\u3002"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"document.visibilityState"})," \u503c\uff0c\u8868\u793a\u4e0b\u9762 4 \u79cd\u72b6\u6001\u4e4b\u4e00\u3002"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9875\u9762\u5728\u540e\u53f0\u6807\u7b7e\u9875\u6216\u6d4f\u89c8\u5668\u4e2d\u6700\u5c0f\u5316\u4e86\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u9875\u9762\u5728\u524d\u53f0\u6807\u7b7e\u9875\u4e2d\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u5b9e\u9645\u9875\u9762\u9690\u85cf\u4e86\uff0c\u4f46\u5bf9\u9875\u9762\u7684\u9884\u89c8\u662f\u53ef\u89c1\u7684(\u4f8b\u5982\u5728 Windows 7 \u4e0a\uff0c\u7528\u6237\u9f20\u6807\u79fb\u5230\u4efb\u52a1\u680f\u56fe\u6807\u4e0a\u4f1a\u663e\u793a\u7f51\u9875\u9884\u89c8)\u3002"}),"\n",(0,t.jsx)(e.li,{children:"\u9875\u9762\u5728\u5c4f\u5916\u9884\u6e32\u67d3\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"visibilitychange"})," \u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u4f1a\u5728\u6587\u6863\u4ece\u9690\u85cf\u53d8\u53ef\u89c1(\u6216\u53cd\u4e4b)\u65f6\u89e6\u53d1\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"document.hidden"})," \u5e03\u5c14\u503c\uff0c\u8868\u793a\u9875\u9762\u662f\u5426\u9690\u85cf\u3002\u8fd9\u53ef\u80fd\u610f\u5473\u7740\u9875\u9762\u5728\u540e\u53f0\u6807\u7b7e\u9875\u6216\u6d4f\u89c8\u5668\u4e2d\u88ab\u6700\u5c0f\u5316\u4e86\u3002\u8fd9\u4e2a\u503c\u662f\u4e3a\u4e86\u5411\u540e\u517c\u5bb9\u624d\u7ee7\u7eed\u88ab\u6d4f\u89c8\u5668\u652f\u6301\u7684\uff0c\u5e94\u8be5\u4f18\u5148\u4f7f\u7528 ",(0,t.jsx)(e.code,{children:"document.visibilityState"})," \u68c0\u6d4b\u9875\u9762\u53ef\u89c1\u6027\u3002"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u8981\u60f3\u5728\u9875\u9762\u4ece\u53ef\u89c1\u53d8\u4e3a\u9690\u85cf\u6216\u4ece\u9690\u85cf\u53d8\u4e3a\u53ef\u89c1\u65f6\u5f97\u5230\u901a\u77e5\uff0c\u9700\u8981\u76d1\u542c ",(0,t.jsx)(e.code,{children:"visibilitychange"})," \u4e8b\u4ef6\u3002",(0,t.jsx)(e.code,{children:"document.visibilityState"}),' \u7684\u503c\u662f\u4ee5\u4e0b\u4e09\u4e2a\u5b57\u7b26\u4e32\u4e4b\u4e00: "hidden"\u3001"visible" \u548c "prerender"\u3002']}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="\u793a\u4f8b"',children:"document.addEventListener('visibilitychange', function () {\n  if (document.visibilityState === 'visible') {\n    // \u9875\u9762\u53d8\u4e3a\u53ef\u89c1\u65f6\u7684\u5904\u7406\u903b\u8f91\n    console.log('\u9875\u9762\u53d8\u4e3a\u53ef\u89c1');\n  } else {\n    // \u9875\u9762\u53d8\u4e3a\u4e0d\u53ef\u89c1\u65f6\u7684\u5904\u7406\u903b\u8f91\n    console.log('\u9875\u9762\u53d8\u4e3a\u4e0d\u53ef\u89c1');\n  }\n});\n"})})]})}function p(i={}){const{wrapper:e}={...(0,c.R)(),...i.components};return e?(0,t.jsx)(e,{...i,children:(0,t.jsx)(d,{...i})}):d(i)}},28453:(i,e,n)=>{n.d(e,{R:()=>a,x:()=>r});var s=n(96540);const t={},c=s.createContext(t);function a(i){const e=s.useContext(c);return s.useMemo(function(){return"function"==typeof i?i(e):{...e,...i}},[e,i])}function r(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(t):i.components||t:a(i.components),s.createElement(c.Provider,{value:e},i.children)}}}]);